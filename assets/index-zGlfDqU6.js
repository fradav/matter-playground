import{M as L}from"./matter-tools-2-tbMDnJ.js";import{r as O,g as C}from"./matter-js-YTUBFL5T.js";import{s as T}from"./@stdlib/dist-stats-base-dists-flat-w0kn6dZ_.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))p(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&p(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function p(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();var W=O();const t=C(W),j=T.base.dists,F=(f,l,a)=>Array.from({length:(l-f)/a+1},(p,e)=>f+e*a);F(-5,5,.01);const N=1,z=0,q={};q.galton=function(){let f=t.Engine,l=t.Render,a=t.Runner,p=t.Events,e=t.Body;t.Composite,t.Composites,t.Common,t.MouseConstraint,t.Mouse;let o=t.World,c=t.Bodies,u=f.create({enableSleeping:!1}),b=u.world;const m=500,S=500;let y=l.create({element:document.body,engine:u,options:{width:m,height:S,wireframes:!1}});l.run(y);let v=a.create({delta:1e3/(60*10),maxFrameTime:1e3/20});a.run(v,u);const P=s=>Math.trunc(s/i)*i,i=2,g=100;let B=1e3;const R=20,E=10,M=R+(i+1)*g,w="normal";u.gravity.y=0,o.add(b,c.rectangle(m/2,S-i/2,m,i,{isStatic:!0,restitution:0,friction:0,density:1e3,render:{fillStyle:"#ffffff",visible:!0},id:"floor"}));let x=1,A;for(let s=0;s<g;s++){const d=(s+1)/(g+1),n=j[w].quantile(d,z,N);let h=P(n*40+m/2);s>0&&A.position.x!=h+x&&x++;const r=c.rectangle(h+x,M-s*(i+1),i,i,{isSensor:!0,isStatic:!0,render:{fillStyle:"#ffffff",visible:!0}});r.id="peg"+s,A=r,o.add(b,r)}return p.on(u,"collisionStart",function(s){let d=s.pairs;for(let n=0,h=d.length;n!=h;++n){let r=d[n];r.bodyA.id=="floor"||r.bodyA.id.startsWith("square")&&r.bodyA.isStatic?(e.setPosition(r.bodyB,{x:r.bodyB.position.x,y:r.bodyA.position.y-i}),e.setStatic(r.bodyB,!0)):r.bodyA.id.startsWith("peg")&&(e.setPosition(r.bodyB,r.bodyA.position),e.setVelocity(r.bodyB,{x:0,y:E}))}}),setInterval(()=>{if(B-- >0){const s=Math.random(),d=Math.trunc(s*g),n=c.rectangle(10,M-d*(i+1),i,i,{sleepThreshold:10,friction:1,frictionAir:0,density:1,restitution:0,render:{fillStyle:"#ff00ff",visible:!0}});n.id="square"+B,e.setVelocity(n,{x:E,y:0}),t.Events.on(n,"sleepStart",()=>{t.Body.setStatic(n,!0)}),o.add(b,n)}}),{engine:u,runner:v,render:y,canvas:y.canvas,stop:function(){t.Render.stop(y),t.Runner.stop(v)}}};L.Demo.create({fullPage:!0,preventZoom:!0,startExample:!0,appendTo:document.body,toolbar:{title:"matter-tools",url:"https://github.com/liabru/matter-tools",reset:!0,source:!0,inspector:!0,tools:!0,fullscreen:!0,exampleSelect:!0},tools:{inspector:!0,gui:!0},examples:[{name:"Galton Board",id:"galton",init:q.galton,sourceLink:"./galton.js"}]});
//# sourceMappingURL=index-zGlfDqU6.js.map
